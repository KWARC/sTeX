\documentclass[mh]{smglom}
\libinput{preamble}
\begin{document}
\begin{modsig}[creators=miko]{realarith}
\gimport{realnumbers}
\gimport{ratarith}

\symdef[noverb,name=uminus]{realuminusOp}{\mathop{-}}
\symdef[noverb]{realuminus}[1]{\mixfixi[p=300]{\realuminusOp}{#1}{}}
\symtest{uminus}{\realuminus{3}}

\symdef[name=absolute-value]{realabsval}[1]{\left|#1\right|}
\symtest{realabsval}{\realabsval{r}}

\symdef[name=addition]{realplusOp}{\mathop{+}}
\symdef[assocarg=1,name=addition]{realplus}[1]{\assoc[p=500]{\realplusOp}{#1}}
\symtest{realplus}{\realplus{a,b,3}}

\symdef[name=subtraction]{realminusOp}{\mathop{-}}
\symdef[assocarg=1,name=subtraction]{realminus}[1]{\assoc[p=550]{\realminusOp}{#1}}
\symtest{realminus}{\realminus{a,b,3}}

\symdef[name=multiplication]{realtimesOp}{}
\symdef[assocarg=1,name=multiplication]{realtimes}[1]{\assoc[p=600]{\realtimesOp}{#1}}
\symtest{realtimes}{\realtimes{a,b,3}}

\symvariant{realtimesOp}{cdot}{\mathop\cdot}
\symvariant{realtimes}[1]{cdot}{\assoc[p=600]{\cdot}{#1}}
\symtest[variant=cdot]{realtimes}{\realtimes[cdot]{a,b,3}}

\symvariant{realtimesOp}{discr}{\*}
\symvariant{realtimes}[1]{discr}{\assoc[p=600]{\discr}{#1}}
\symtest[variant=discr]{realtimes}{\realtimes[discr]{a,b,3}}

\symvariant{realtimesOp}{x}{\mathop\times}
\symvariant{realtimes}[1]{x}{\assoc[p=600]{\times}{#1}}
\symtest[variant=x]{realtimes}{\realtimes[x]{a,b,3}}

\symdef[name=division]{realdivideOp}{\mathop{/}}
\symdef[name=division]{realdivide}[2]{\infix[p=600]{\realdivideOp}{#1}{#2}}
\symtest{realdivide}{\realdivide{n}2}
\symvariant{realdivide}[2]{frac}{\frac{#1}{#2}}
\symtest[variant=frac]{realdivide}{\realdivide[frac]{a}b}

\symdef[name=exponentiation]{realpower}[2]{\mixfixi[p=800,pi=700]{}{#1^{\withprecii\niprec #2}}{}}
\symtest{realpower}{\realpower{3}{4}=81}
\symvariant{realpower}[2]{basebrack}{\mixfixi[p=800,pi=\niprec]{}{\left(#1\right)^{\withprecii\niprec #2}}{}}
\symtest[variant=basebrack]{realpower}{\realpower[basebrack]{-3}{4}=81}

\symdef[name=root]{realroot}[2]{\sqrt[#1]{\withprecii\niprec #2}}
\symtest{realroot}{\realroot37}

\symdef[name=square-root]{realsqrt}[1]{\sqrt{\withprecii\niprec #1}}
\symtest{realsqrt}{\realsqrt{7}}

\symdef[noverb,name=morethan]{realmorethanOp}{\mathord{>}}
\symdef[noverb,name=morethan]{realmorethan}[2]{\infix[p=300]\realmorethanOp{#1}{#2}}
\symtest{realmorethan}{\realmorethan12}
\symdef[noverb,name=mmorethan,assocarg=1]{realmmorethan}[2]{\mixfixai[p=300]{}{#1}\realmorethanOp{#2}{}{,}}
\symtest{realmmorethan}{\realmmorethan{1,2}2}

\symdef[noverb,name=lessthan]{reallessthanOp}{\mathord{<}}
\symdef[noverb,name=lessthan]{reallessthan}[2]{\infix[p=300]\reallessthanOp{#1}{#2}}
\symtest{reallessthan}{\reallessthan12}
\symvariant{reallessthanOp}{z}{{\reallessthanOp_{\RealNumbers}}}
\symvariant{reallessthan}[2]{z}{\infix[p=300]{\reallessthanOp[z]}{#1}{#2}}
\symtest[variant=z]{reallessthan}{\reallessthan[z]12}

\symdef[noverb,name=mlessthan,assocarg=1]{realmlessthan}[2]{\mixfixai[p=300]{}{#1}\reallessthanOp{#2}{}{,}}
\symtest{realmlessthan}{\realmlessthan{1,2}2}

\symdef[noverb,name=methan]{realmethanOp}{\mathord\geq}
\symdef[noverb,name=methan]{realmethan}[2]{\infix[p=300]\realmethanOp{#1}{#2}}
\symtest{realmethan}{\realmethan12}
\symdef[noverb,name=mmethan,assocarg=1]{realmmethan}[2]{\mixfixai[p=300]{}{#1}\realmethanOp{#2}{}{,}}
\symtest{realmmethan}{\realmmethan{1,2}2}

\symdef[noverb,name=lethan]{reallethanOp}{\mathord\leq}
\symdef[noverb,name=lethan]{reallethan}[2]{\infix[p=300]\reallethanOp{#1}{#2}}
\symtest{reallethan}{\reallethan12}
\symdef[noverb,name=mlethan,assocarg=1]{realmlethan}[2]{\mixfixai[p=300]{}{#1}\reallethanOp{#2}{}{,}}
\symtest{realmlethan}{\realmlethan{1,2}2}

\abbrdef{realbetweenss}[3]{\pobetween{#2}\reallessthanOp{#1}\reallessthanOp{#3}}
\abbrtest{realbetweenss}{\realbetweenss{i,j}13}
\abbrdef{realbetweense}[3]{\pobetween{#2}\reallessthanOp{#1}\reallethanOp{#3}}
\abbrtest{realbetweense}{\realbetweense{i,j}13}
\abbrdef{realbetweenes}[3]{\pobetween{#2}\reallethanOp{#1}\reallessthanOp{#3}}
\abbrtest{realbetweenes}{\realbetweenes{i,j}13}
\abbrdef{realbetweenee}[3]{\pobetween{#2}\reallethanOp{#1}\reallethanOp{#3}}
\abbrtest{realbetweenee}{\realbetweenee{i,j}13}

\end{modsig}
\end{document}
