%%
%% This is file `mikoslides-mh.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% mathhub.dtx  (with options: `mikoslides')
%% 
\ProvidesPackage{mikoslides-mh}[2019/03/20 v1.1 MathHub support for the sTeX mikoslides package]
\RequirePackage{mathhub}
\def\Gin@mhrepos{}
\define@key{Gin}{mhrepos}{\def\Gin@mhrepos{#1}}
\newcommand\mhframeimage[2][]{%
  \setkeys{Gin}{#1}%
  \edef\mh@@repos{\mh@currentrepos}%
  \ifx\Gin@mhrepos\@empty%
    \edef\temp@path{\MathHub{\mh@currentrepos/source/#2}}%
  \else%
    \edef\temp@path{\MathHub{\Gin@mhrepos/source/#2}}%
  \fi%
  \if@iswindows@\path@to@windows\temp@path\fi%
  \frameimage[#1]{\temp@path}%
}%
\let\orig@mhinputref\mhinputref
\def\mhinputref{\@ifstar\nmhinputref\orig@mhinputref}
\newcommand\nmhinputref[2][]{\ifnotes\orig@mhinputref[#1]{#2}\fi}
\newcommand\activatemhexcursion[2][]{\ifstrempty{#1}%
  {\gappto\printexcursions{\mhinputref[\mh@currentrepos]{#2}}}%
  {\gappto\printexcursions{\mhinputref[#1]{#2}}}}
\newcommand\mhexcursion[4][]{% repos, label, path, text
  \activatemhexcursion[#1]{#3}\excursionref{#2}{#4}}%
\srefaddidkey{mhexcursiongroup}%
\addmetakey{mhexcursiongroup}{intro}%
\addmetakey{mhexcursiongroup}{mhrepos}%
\newcommand\mhexcursiongroup[3][]{%
  \metasetkeys{mhexcursiongroup}{#1}%
  \ifdefempty\printexcursions{}% only if there are excursions
  {\begin{omgroup}[\ifdefempty\mhexcursiongroup@id{}{id=\mhexcursiongroup@id}]{Excursions}%
      \ifdefempty\mhexcursiongroup@intro{}%
      {\ifdefempty\mhexcursiongroup@mhrepos%
        {\mhinputref{\mhexcursiongroup@intro}}%
        {\mhinputref[\mhexcursiongroup@mhrepos]{\mhexcursiongroup@intro}}}%
      \printexcursions%
    \end{omgroup}}}
\endinput
%%
%% End of file `mikoslides-mh.sty'.
