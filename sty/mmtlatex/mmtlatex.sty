\NeedsTeXFormat{LaTeX2e}[1999/12/01]
\ProvidesPackage{mmtlatex}[2015/06/24 v1.0]
%
\RequirePackage{listings}
\RequirePackage{newverbs}
%
\catcode`!=13
\newwrite\mmtlatexfile
\immediate\openout\mmtlatexfile=\jobname.mmtlatex
%
\newcounter{ExprNum}%
\def!#1!{%
  \outputmmtlatex{#1}%
}%
\def\outputmmtlatex#1{%
  \stepcounter{ExprNum}%
  \immediate\write\mmtlatexfile{expression_\roman{ExprNum} = #1}%
}%
%
\Verbdef\poundsign{#}%
\newcommand{\mmtconstant}[3]{%
  \immediate\write\mmtlatexfile{constant #1: #2, \poundsign #3}%
}%
\endinput